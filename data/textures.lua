
require('box')
require('readobj')

box = make_box(2, false)

tex1 = color.texture('textures/donut.png')
tex1:translate(0, 0.5)
tex2 = color.texture('textures/sandstone.png')
tex2:rotate(90)
tex3 = color.texture('textures/coke.png')
tex4 = color.texture('textures/box.png')
tex5 = color.texture('textures/earth.png')
tex6 = color.texture('textures/cow.png')

spec1 = color.constant({1.0,1.0,1.0})

mat1 = material.new()
mat1:set_diffuse(tex1)
mat1:set_specular(spec1, 150)
mat2 = material.new()
mat2:set_diffuse(tex2)
mat3 = material.new()
mat3:set_diffuse(tex3)
mat3:set_specular(spec1, 15)
mat4 = material.new()
mat4:set_diffuse(tex4)
mat5 = material.new()
mat5:set_diffuse(tex5)
mat5:set_specular(spec1, 15)
mat6 = material.new()
mat6:set_diffuse(tex6)

torus = scene.torus('torus', 0.6, 0.2)
box:add_child(torus)
torus:set_material(mat1)
torus:translate({1.2,0.5,0})
torus:rotate('x', 45)
torus:rotate('y', 45)

cone = scene.cone('cone', 0.5, 2)
box:add_child(cone)
cone:set_material(mat2)
cone:translate({-0.3, 1.4, 0.9})
cone:rotate('x', 120)
cone:rotate('y', 15)

cylinder = scene.cylinder('cylinder', 0.4, 1.3)
box:add_child(cylinder)
cylinder:set_material(mat3)
cylinder:translate({-1.1,0.5,-0.3})
cylinder:rotate('x', 30)
cylinder:rotate('y', 60)

b = scene.box('box', 0.8)
box:add_child(b)
b:set_material(mat4)
b:translate({0,0.7,0})
b:rotate('x', -10)
b:rotate('y', -10)
b:translate({0.8,-1.7,-1.5})

sphere = scene.sphere('s', 0.5)
box:add_child(sphere)
sphere:set_material(mat5)
sphere:translate({-0.7,-0.5,-1})
sphere:rotate('x', -30)
sphere:rotate('z', 30)

cow = scene.mesh('cow', readobj('textures/cow.obj'))
box:add_child(cow)
cow:set_material(mat6)
cow:translate({0,-2,-1.5})
cow:rotate('y', 220)
cow:scale({0.8,0.8,0.8})

do_render(box, 8, 's', 'textures.png', 1000, 1000, 1)
